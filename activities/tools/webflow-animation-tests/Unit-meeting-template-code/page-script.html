<script>
    // CSS for smooth transitions
    const styles = `
    [xa-tab] {
      opacity: 1;
      visibility: visible;
      transition: opacity 0.3s ease, visibility 0.3s ease;
      display: block;
    }
    
    [xa-tab].hidden {
      opacity: 0;
      visibility: hidden;
      display: none;
    }
    `;
    
    // Add styles to document
    const styleSheet = document.createElement("style");
    styleSheet.textContent = styles;
    document.head.appendChild(styleSheet);
    
    // Hide iframe tab content by default
    const iframeTab = document.querySelector('[xa-tab="iframe"]');
    if (iframeTab) {
      iframeTab.classList.add('hidden');
    }
    
    // Function to switch tabs
    function switchTab(targetTab, event) {
      if (event) {
        event.preventDefault(); // Prevent anchor tag default behavior
      }
    
      // Remove active class from all tab buttons
      document.querySelectorAll('[xa-tab-btn]').forEach(btn => {
        btn.classList.remove('active');
      });
      
      // Add active class to target tab button
      const targetBtn = document.querySelector(`[xa-tab-btn="${targetTab}"]`);
      if (targetBtn) {
        targetBtn.classList.add('active');
      }
      
      // Hide all tab contents
      document.querySelectorAll('[xa-tab]').forEach(tab => {
        tab.classList.add('hidden');
      });
      
      // Show target tab content
      const targetContent = document.querySelector(`[xa-tab="${targetTab}"]`);
      if (targetContent) {
        targetContent.classList.remove('hidden');
      }
    }
    
    // Event listeners for tab buttons
    document.querySelectorAll('[xa-tab-btn]').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const targetTab = e.currentTarget.getAttribute('xa-tab-btn');
        switchTab(targetTab, e);
      });
    });
    
    // Event listener for alternate iframe button (if exists)
    document.querySelectorAll('[xa-btn="iframe"]').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        switchTab('iframe', e);
      });
    });
    
    // Initialize default state
    document.addEventListener('DOMContentLoaded', () => {
      // Ensure instruction tab is visible and active by default
      switchTab('instruction');
    });
    </script>